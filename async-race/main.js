(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>b});var r=n(81),a=n.n(r),i=n(645),o=n.n(i),c=n(667),u=n.n(c),s=new URL(n(988),n.b),l=new URL(n(258),n.b),d=new URL(n(994),n.b),f=o()(a()),h=u()(s),p=u()(l),v=u()(d);f.push([t.id,`html {\n    background-image: url(${h});\n    width: 100%;\n    background-size: cover;\n    background-repeat: no-repeat;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\nbody {\n    color: white;\n    padding: 0 20px;\n}\n\nheader {\n    margin-bottom: 5px;\n    display: flex;\n    justify-content: space-between;\n}\n\nh2 {\n    margin: 15px 0;\n}\n\n.hidden {\n    display: none;\n}\n\n.btn {\n    transition: all 0.15s ease-out;\n    cursor: pointer;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 0.75rem;\n    background-color: transparent;\n    border-radius: 5px;\n    border: 1px solid rgb(160, 140, 180);\n    color: white;\n    padding: 2px 8px;\n    margin: 2px 2px;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.btn:hover {\n    background-color: rgb(70, 60, 100);\n}\n\n.btn:disabled {\n    border-color: rgb(70, 60, 100);\n    color: rgb(160, 140, 180);\n    cursor: auto\n}\n\n.btn:disabled:hover {\n    background-color: transparent;\n}\n\n.clickable {\n    cursor: pointer;\n}\n\n.clickable:hover {\n    color: rgb(200, 180, 220);\n}\n\n\n.span-name {\n    display: inline-block;\n    box-sizing: border-box;\n    font-size: 0.75rem;\n    padding: 2px;\n    min-width: 90px;\n    margin-bottom: 10px;\n}\n\n\n.input {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    margin: 0 10px\n}\n\n.pick-color {\n    background-color: rgb(160, 140, 180);\n}\n\n.race-track {\n    border-bottom: rgb(160, 140, 180) dashed 1px;\n    margin-bottom: 5px;\n    /* min-height: 80px; */\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n\n.track-lower-row {\n    min-height: 30px;\n    display: flex;\n    justify-content: space-between;\n}\n\n.buttons-div {\n    width: 80px;\n}\n\n.car-div {\n    width: calc(100% - 80px);\n}\n\n.car {\n    margin-top: 7px;\n    width: min-content;\n}\n\n.car-name {\n    margin-left: 40px;\n    color: rgb(200, 180, 220);\n}\n\n.title-div {\n    display: flex;\n    justify-content: space-between;\n}\n\n.flag-img {\n    position: absolute;\n    right: 60px;\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    background-image: url(${p});\n    background-size: contain;\n    background-repeat: no-repeat;\n    filter: invert(100%);\n}\n\ntable {\n    table-layout: auto;\n    width: 100%;\n    margin-bottom: 20px;\n}\n\nth {\n    font-size: 0.75rem;\n    text-align: center;\n}\n\n.pagination {\n    width: fit-content;\n    margin: auto;\n}\n\n.popup {\n    width: 100%;\n    position: fixed;\n    top: 50%;\n    transform: translate(0 -50%);\n    font-size: x-large;\n    text-shadow: 0 0 1em rgb(200, 180, 220), 0 0 0.2em pink;\n    text-align: center;\n}\n\n.link {\n    vertical-align: middle;\n    transition: all 0.3s;\n    cursor: pointer;\n    text-decoration: none;\n    color: rgb(200, 180, 220);\n    font-size: smaller;\n}\n\n.link:hover {\n    color: white\n}\n\n.rss-link {\n    margin-left: 15px;\n    display: inline-block;\n    background-image: url(${v});\n    background-size: contain;\n    background-repeat: no-repeat;\n    width: 60px;\n    height: 30px;\n}`,""]);const b=f},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(o[u]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},o=[],c=0;c<t.length;c++){var u=t[c],s=r.base?u[0]+r.base:u[0],l=i[s]||0,d="".concat(s," ").concat(l);i[s]=l+1;var f=n(d),h={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(h);else{var p=a(h,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:p,references:1})}o.push(d)}return o}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var i=r(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var c=n(i[o]);e[c].references--}for(var u=r(t,a),s=0;s<i.length;s++){var l=n(i[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},258:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDQ1My40MDUgNDUzLjQwNSINCgkgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTM4Mi4wOCw2MC4zOTRjLTI2LjMyNC00LjUzNC01My40NDQtMC44NDUtNzkuNzY0LDEuNzUxYy0yNi4yMjMsMi41ODctNTMuNjA0LDUuNzUzLTc5LjU4NS0wLjM5Nw0KCQkJYy0zMC41OTItNy4yNDEtNDkuOTQ1LTI3LjI5NC02NC4yMTYtNTQuNDY0Yy0zLjkzNSwxMC42NDYtNy44NjksMjEuMjkxLTExLjgwMywzMS45MzgNCgkJCWMtMjUuNzQsNjkuNjQ2LTUxLjQ3OSwxMzkuMjkyLTc3LjIxOCwyMDguOTM4TDAsNDM2LjIwM2wyNi44MzgsOS45MTlsNjIuNTQxLTE2OS4yMjdjMTEuNjA3LDEyLjM4MywyNS45MzcsMjEuMzc1LDQ0LjMzMywyNS43MjkNCgkJCWMyNS45NzksNi4xNDYsNTMuMzYzLDIuOTg2LDc5LjU4NCwwLjM5OGMyNi4zMTgtMi42MDEsNTMuNDQxLTYuMjg3LDc5Ljc2NS0xLjc1MmMzMy44MjYsNS44MjYsNTUuNjgyLDI2LjA4Niw3MS4zMjMsNTUuODcxDQoJCQljMjkuNjc3LTgwLjI5MSw1OS4zNDgtMTYwLjU4Myw4OS4wMjEtMjQwLjg3NkM0MzcuNzYxLDg2LjQ3OSw0MTUuOTExLDY2LjIyMiwzODIuMDgsNjAuMzk0eiBNMzg1LjM3OSwyMDMuMzQ5DQoJCQljLTEzLjIzNC0xMS4xNjktMjcuNDQxLTE4LjYzOC00NC41Ny0yMS45MzFjLTUuNzE1LDE1LjQ1OC0xMS40MjgsMzAuOTE2LTE3LjE0MSw0Ni4zNzRjMTcuMTMxLDMuMjk1LDMxLjMzNSwxMC43NjQsNDQuNTcyLDIxLjkzMg0KCQkJYy01LjIzOSwxNC4xNzYtMTAuNDc5LDI4LjM1My0xNS43MTcsNDIuNTI2Yy0xMy4yMzQtMTEuMTY4LTI3LjQ0My0xOC42NDItNDQuNTczLTIxLjkzYzUuMjM5LTE0LjE3NywxMC40NzktMjguMzUzLDE1LjcxOC00Mi41MjgNCgkJCWMtMTcuNDQyLTIuODEzLTM0LjQ3My0yLjc5Ny01Mi4wNzItMS43MmMtNS4yMzgsMTQuMTc2LTEwLjQ3OSwyOC4zNTMtMTUuNzE3LDQyLjUyOGMtMTguMjEsMS40NzEtMzYuMzU4LDMuNTYtNTQuNTY3LDUuMDI4DQoJCQljNS4yMzgtMTQuMTc4LDEwLjQ3OC0yOC4zNTMsMTUuNzE2LTQyLjUyNmMtMTcuNTk5LDEuMDc4LTM0LjYzMSwxLjA5Ni01Mi4wNzMtMS43MTljLTUuMjM5LDE0LjE3Ni0xMC40NzgsMjguMzUyLTE1LjcxNyw0Mi41MjYNCgkJCWMtMTcuMTI4LTMuMjktMzEuMzQxLTEwLjc2My00NC41NzItMjEuOTMzYzUuMjM4LTE0LjE3NCwxMC40NzgtMjguMzUxLDE1LjcxNi00Mi41MjVjMTMuMjM2LDExLjE3LDI3LjQ0MiwxOC42NCw0NC41NzMsMjEuOTMyDQoJCQljNS43MTItMTUuNDU4LDExLjQyNy0zMC45MTgsMTcuMTM5LTQ2LjM3NmMtMTcuMTMtMy4yODUtMzEuMzM4LTEwLjc2Ni00NC41NzMtMjEuOTNjNS43MTQtMTUuNDYsMTEuNDI3LTMwLjkyLDE3LjE0LTQ2LjM3OA0KCQkJYzEzLjIzNiwxMS4xNzMsMjcuNDQyLDE4LjYzNSw0NC41NzIsMjEuOTMzYzUuMjM5LTE0LjE3NiwxMC40NzgtMjguMzUxLDE1LjcxNy00Mi41MjVjMTcuNDQyLDIuODEzLDM0LjQ3NiwyLjc5Nyw1Mi4wNzMsMS43MTcNCgkJCWMtNS4yMzgsMTQuMTc1LTEwLjQ3OCwyOC4zNTEtMTUuNzE3LDQyLjUyNmMxOC4yMDktMS40NzEsMzYuMzU3LTMuNTU4LDU0LjU2Ny01LjAyOGM1LjIzOC0xNC4xNzUsMTAuNDc5LTI4LjM1MSwxNS43MTctNDIuNTI3DQoJCQljMTcuNjAxLTEuMDc4LDM0LjYyOS0xLjA5NSw1Mi4wNzIsMS43MTljLTUuMjM5LDE0LjE3Ni0xMC40NzgsMjguMzUxLTE1LjcxNyw0Mi41MjhjMTcuMTMxLDMuMjk0LDMxLjMzNSwxMC43NjEsNDQuNTczLDIxLjkzDQoJCQlDMzk2LjgwNiwxNzIuNDMxLDM5MS4wOTUsMTg3Ljg5MSwzODUuMzc5LDIwMy4zNDl6Ii8+DQoJCTxwYXRoIGQ9Ik0yMzQuMTY3LDE4NC43MjZjLTUuNzEzLDE1LjQ1OS0xMS40MjYsMzAuOTE3LTE3LjE0LDQ2LjM3NmMxOC4yMS0xLjQ3MiwzNi4zNTktMy41Niw1NC41NjgtNS4wMw0KCQkJYzUuNzEzLTE1LjQ1NywxMS40MjYtMzAuOTE2LDE3LjEzOS00Ni4zNzRDMjcwLjUyMywxODEuMTY5LDI1Mi4zNzYsMTgzLjI1NywyMzQuMTY3LDE4NC43MjZ6Ii8+DQoJCTxwYXRoIGQ9Ik0yMzQuMTY3LDE4NC43MjZjNS43MTQtMTUuNDU4LDExLjQyNy0zMC45MTgsMTcuMTQtNDYuMzc1Yy0xNy42MDQsMS4wNzUtMzQuNjI5LDEuMDkzLTUyLjA3NS0xLjcxOA0KCQkJYy01LjcxMywxNS40NTgtMTEuNDI2LDMwLjkxNy0xNy4xMzksNDYuMzc1QzE5OS41MzYsMTg1LjgyNCwyMTYuNTY2LDE4NS44MDcsMjM0LjE2NywxODQuNzI2eiIvPg0KCQk8cGF0aCBkPSJNMzA1Ljg3MywxMzMuMzIzYy01LjcxMywxNS40NTgtMTEuNDI2LDMwLjkxNi0xNy4xMzksNDYuMzc1YzE3LjYwMS0xLjA3NSwzNC42MjktMS4wOTMsNTIuMDczLDEuNzINCgkJCWM1LjcxMi0xNS40NTgsMTEuNDI2LTMwLjkxNywxNy4xMzgtNDYuMzc1QzM0MC41MDMsMTMyLjIyOSwzMjMuNDc0LDEzMi4yNDMsMzA1Ljg3MywxMzMuMzIzeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg=="},988:(t,e,n)=>{t.exports=n.p+"d2c78fbe0f4292f7e7cd.jpg"},994:(t,e,n)=>{t.exports=n.p+"12047cfd6bf59b808257.svg"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!t;)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),a=n.n(r),i=n(569),o=n.n(i),c=n(565),u=n.n(c),s=n(216),l=n.n(s),d=n(589),f=n.n(d),h=n(426),p={};function v(t){var e,n=document.createElement(t.tag);return t.class&&(e=n.classList).add.apply(e,t.class),t.id&&(n.id=t.id),t.type&&n.setAttribute("type",t.type),t.color&&(n.style.color=t.color),t.setData&&n.setAttribute("data",t.setData),t.textContent&&(n.textContent=t.textContent),t.children&&t.children.forEach((function(t){n.append(v(t))})),n}p.styleTagTransform=f(),p.setAttributes=u(),p.insert=o().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=l(),e()(h.Z,p),h.Z&&h.Z.locals&&h.Z.locals;const b=function(){function t(){this.toGarage=v({tag:"button",class:["header-button","btn"],textContent:"to Garage",id:"garageBtn"}),this.toWinners=v({tag:"button",class:["header-button","btn"],textContent:"to Winners",id:"winnersBtn"}),this.header=this.createHeaderView(),this.createLinks()}return t.prototype.createHeaderView=function(){var t=v({tag:"header"}),e=v({tag:"span",class:["button-wrapper"]});return e.append(this.toGarage),e.append(this.toWinners),t.append(e),document.body.append(t),t},t.prototype.createLinks=function(){var t=v({tag:"span",class:["links-container"]}),e=v({tag:"a",textContent:"anastakozz 2023",class:["link","git-link"]});e.setAttribute("href","https://github.com/anastakozz");var n=v({tag:"a",class:["link","rss-link"]});n.setAttribute("href","https://rs.school/js"),t.append(e,n),this.header.append(t)},t}();var g=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},y=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},w="http://127.0.0.1:3000";function M(t){return g(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(w,"/winners/").concat(t))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}function m(t){return g(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(w,"/garage/").concat(t))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}function x(){return g(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(w,"/garage"))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))}function L(){return g(this,void 0,void 0,(function(){var t,e,n=this;return y(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(w,"/winners"))];case 1:return[4,r.sent().json()];case 2:return t=r.sent(),e=t.map((function(t){return g(n,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return[4,m(t.id)];case 1:return e=n.sent(),t.name=e.name,t.color=e.color,[2,t]}}))}))})),[2,Promise.all(e)]}}))}))}function N(){var t=v({tag:"div",class:["pagination"]}),e=v({tag:"button",class:["page-button","prev-btn","btn"],textContent:"prev"});e.setAttribute("disabled","true");var n=v({tag:"button",class:["page-button","next-btn","btn"],textContent:"next"});return t.append(e,n),t}function T(t,e,n){return[n,0===t.length?1:Math.ceil(t.length/e)]}function k(t,e,n,r,a,i){var o,c,u,s,l=i||(null==a?void 0:a.target).textContent;"next"===l?(r(e[0]*n),null===(o=t.firstElementChild)||void 0===o||o.removeAttribute("disabled"),e[0]+=1,e[0]===e[1]&&(null===(c=t.lastElementChild)||void 0===c||c.setAttribute("disabled","true"))):"prev"===l&&(e[0]-=1,r((e[0]-1)*n),null===(u=t.lastElementChild)||void 0===u||u.removeAttribute("disabled"),1===e[0]&&(null===(s=t.firstElementChild)||void 0===s||s.setAttribute("disabled","true")))}var j=document.createElementNS("http://www.w3.org/2000/svg","path");j.setAttribute("fill","currentColor"),j.setAttribute("d","M45.6,0c-0.9,0-1.7,0.7-1.9,1.6c-0.9,0.4-1.6,1.1-2,2c-0.6,1.2-0.7,2.6-0.8,4.2c-0.1,2.7,0.3,5.7,0.5,8.4c-0.2,1.6-0.5,3-1,4.4c0.3,1.9,0.4,3.9,0.1,5.9c-0.5,4.1-3.9,6.5-7.5,7.2c-3.3,0.7-7,0-9.4-2.1c-3.7,2.4-8.2,3-12,1.8c-4.5,1.7-8,4.1-9.4,6.6h34.3c11,0,14.7-11.5,11.9-24.1c0,0,0,0,0,0c-0.6-4.4,0.1-7.5,1.6-9.5c0.2,0.1,0.4,0.1,0.7,0.1c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2c0,0.1,0,0.2,0,0.3c-2.3,2.7-3.1,7-2.1,12.6c-1.1,0.5-2.3,0.3-3.4-0.7c-0.1-3-0.6-6.3-0.5-9c0-1.4,0.2-2.6,0.6-3.4c0.2-0.5,0.5-0.8,0.8-1C44.6,3.8,45.1,4,45.6,4c1.1,0,2-0.9,2-2C47.6,0.9,46.7,0,45.6,0L45.6,0z M20.8,3.4c-0.2,0-0.5,0-0.7,0c-3.8,0.2-7.5,1.7-10.6,4.4c-6.1,5.4-6.3,15.4-1,21.5c4.1,4.1,11.4,3.7,16.2-1.1c4-4,4.3-10.1,0.9-13.6c-2.4-2.4-6.5-2.6-9.2,0.1c-0.6,0.6-1,1.7-1,2.9c0,1.2,0.4,2.3,1,3.1c0.4,0.5,1.1,0.9,2,1.1c0.5,0.1,1,0.2,1.5,0.1c1.4,0,2.8-1,2.8-2.8c0-1.7-1.1-2.6-2.3-2.8c0.8-0.1,1.6,0.1,2.2,0.4c0.9,0.5,1.5,1.4,1.7,2.3c0.4,1.8-0.6,4-2.7,4.6l0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c-1.1,0.4-2.4,0.4-3.5,0.1c-1.2-0.3-2.3-0.9-3-1.8c-1-1.2-1.5-2.8-1.5-4.4s0.4-3.1,1.5-4.3c3.4-3.6,8.9-3.3,12-0.2c4.3,4.3,3.8,11.7-0.9,16.4v0c-0.3,0.3-0.6,0.5-0.9,0.8c1.8,1.4,4.7,1.9,7.3,1.4c3-0.6,5.5-2.4,5.9-5.6c1-7.7-3.7-15.7-7.7-19.1C27.8,4.6,24.3,3.4,20.8,3.4L20.8,3.4z");var E=document.createElement("svg");E.append(j),E.setAttribute("version","1.1"),E.setAttribute("xmlns","http://www.w3.org/2000/svg"),E.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),E.setAttribute("x","0px"),E.setAttribute("y","0px"),E.setAttribute("viewBox","0 0 55 40"),E.setAttribute("width","55px"),E.setAttribute("height","40px");var C='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 40" width="55px" height="40px"><path fill="currentColor" d="M45.6,0c-0.9,0-1.7,0.7-1.9,1.6c-0.9,0.4-1.6,1.1-2,2c-0.6,1.2-0.7,2.6-0.8,4.2c-0.1,2.7,0.3,5.7,0.5,8.4c-0.2,1.6-0.5,3-1,4.4c0.3,1.9,0.4,3.9,0.1,5.9c-0.5,4.1-3.9,6.5-7.5,7.2c-3.3,0.7-7,0-9.4-2.1c-3.7,2.4-8.2,3-12,1.8c-4.5,1.7-8,4.1-9.4,6.6h34.3c11,0,14.7-11.5,11.9-24.1c0,0,0,0,0,0c-0.6-4.4,0.1-7.5,1.6-9.5c0.2,0.1,0.4,0.1,0.7,0.1c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2c0,0.1,0,0.2,0,0.3c-2.3,2.7-3.1,7-2.1,12.6c-1.1,0.5-2.3,0.3-3.4-0.7c-0.1-3-0.6-6.3-0.5-9c0-1.4,0.2-2.6,0.6-3.4c0.2-0.5,0.5-0.8,0.8-1C44.6,3.8,45.1,4,45.6,4c1.1,0,2-0.9,2-2C47.6,0.9,46.7,0,45.6,0L45.6,0z M20.8,3.4c-0.2,0-0.5,0-0.7,0c-3.8,0.2-7.5,1.7-10.6,4.4c-6.1,5.4-6.3,15.4-1,21.5c4.1,4.1,11.4,3.7,16.2-1.1c4-4,4.3-10.1,0.9-13.6c-2.4-2.4-6.5-2.6-9.2,0.1c-0.6,0.6-1,1.7-1,2.9c0,1.2,0.4,2.3,1,3.1c0.4,0.5,1.1,0.9,2,1.1c0.5,0.1,1,0.2,1.5,0.1c1.4,0,2.8-1,2.8-2.8c0-1.7-1.1-2.6-2.3-2.8c0.8-0.1,1.6,0.1,2.2,0.4c0.9,0.5,1.5,1.4,1.7,2.3c0.4,1.8-0.6,4-2.7,4.6l0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c-1.1,0.4-2.4,0.4-3.5,0.1c-1.2-0.3-2.3-0.9-3-1.8c-1-1.2-1.5-2.8-1.5-4.4s0.4-3.1,1.5-4.3c3.4-3.6,8.9-3.3,12-0.2c4.3,4.3,3.8,11.7-0.9,16.4v0c-0.3,0.3-0.6,0.5-0.9,0.8c1.8,1.4,4.7,1.9,7.3,1.4c3-0.6,5.5-2.4,5.9-5.6c1-7.7-3.7-15.7-7.7-19.1C27.8,4.6,24.3,3.4,20.8,3.4L20.8,3.4z"/></svg>';const z=function(){function t(){var t=this;this.itemsPerPage=10,this.openWinners=function(){var e;null===(e=document.querySelector(".garage-block"))||void 0===e||e.classList.add("hidden"),t.winnersBlock.classList.remove("hidden")},this.generateWinnersView=function(){return e=t,n=void 0,a=function(){var t;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){switch(e.label){case 0:return[4,L()];case 1:return t=e.sent(),this.data=t,this.generateWinnersContent(),this.winnersBlock.classList.add("hidden"),[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function o(t){try{u(a.next(t))}catch(t){i(t)}}function c(t){try{u(a.throw(t))}catch(t){i(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,c)}u((a=a.apply(e,n||[])).next())}));var e,n,r,a},this.generateWinnersContent=function(){var e,n;t.winnersBlock.replaceChildren("");var r=document.createDocumentFragment(),a=v({tag:"h1",class:["winners-title"],textContent:"Winners(".concat(t.data.length,")")});t.generateTableRows(0),t.pages=T(t.data,t.itemsPerPage,t.pages[0]),r.append(a,t.table,t.buttons),1===t.pages[1]?null===(e=t.buttons.lastElementChild)||void 0===e||e.setAttribute("disabled","true"):null===(n=t.buttons.lastElementChild)||void 0===n||n.removeAttribute("disabled"),t.winnersBlock.append(r),document.body.append(t.winnersBlock)},this.sortData=function(e){var n=e.target,r="";if(n instanceof HTMLElement&&(r=n.textContent),"Wins"===r){var a=t.data.sort((function(t,e){return e.wins-t.wins}));t.data=a,t.generateWinnersContent()}else if("Best time(sec)"===r){var i=t.data.sort((function(t,e){return e.time-t.time}));t.data=i,t.generateWinnersContent()}null==n||n.removeEventListener("click",t.sortData),null==n||n.addEventListener("click",t.reverseData)},this.reverseData=function(e){var n=e.target;t.data.reverse(),t.generateWinnersContent(),null==n||n.removeEventListener("click",t.reverseData),null==n||n.addEventListener("click",t.sortData)},this.pages=[1,1],this.data=[],this.winnersBlock=v({tag:"div",class:["winners-block"]}),this.table=v({tag:"table",class:["winners-table"]}),this.buttons=N(),this.buttons.addEventListener("click",(function(e){k(t.buttons,t.pages,t.itemsPerPage,t.generateTableRows.bind(t),e)})),this.generateTable()}return t.prototype.generateTable=function(){var t=this,e=v({tag:"thead"}),n=v({tag:"tbody"}),r=v({tag:"tr"});["№","Image","Name","Wins","Best time(sec)"].forEach((function(e){var n=v({tag:"th",textContent:e});"Wins"!==e&&"Best time(sec)"!==e||(n.addEventListener("click",t.sortData),n.classList.add("clickable")),r.append(n)})),e.append(r),this.table.append(e,n)},t.prototype.generateTableRows=function(t){var e,n=this;null===(e=this.table.lastElementChild)||void 0===e||e.replaceChildren(""),this.data.slice(t,t+this.itemsPerPage).forEach((function(t,e){var r,a=v({tag:"tr"}),i=[t.name,t.wins,t.time];a.append(v({tag:"th",textContent:"".concat(e+1)}));var o=v({tag:"th",children:[{tag:"svg",color:"".concat(t.color)}]});o.firstElementChild&&(o.firstElementChild.innerHTML=C),a.append(o),i.forEach((function(t){a.append(v({tag:"th",textContent:"".concat(t)}))})),null===(r=n.table.lastElementChild)||void 0===r||r.append(a)}))},t}(),S=function(){function t(){this.generatorBlock=v({tag:"div",class:["cars-generator"]}),this.generateCarsButtons(),this.generateRaceButtons()}return t.prototype.generateCarsButtons=function(){var t=v({tag:"div",class:["createCar-div"],children:[{tag:"span",class:["span-name"],textContent:"Create snail:"},{tag:"input",class:["create-name","input"]},{tag:"input",type:"color",class:["pick-color","input"]},{tag:"button",class:["create-btn","btn"],textContent:"Create"}]}),e=v({tag:"div",class:["updateCar-div"],children:[{tag:"span",class:["span-name"],textContent:"Update snail:"},{tag:"input",class:["update-name","input"]},{tag:"input",type:"color",class:["pick-color","input"]},{tag:"button",class:["update-btn","btn"],textContent:"Update"}]});this.generatorBlock.append(t,e)},t.prototype.generateRaceButtons=function(){var t=v({tag:"div",class:["race-btns"],children:[{tag:"button",textContent:"RACE",class:["race-btn","btn"]},{tag:"button",textContent:"RESET",class:["reset-btn","btn"]},{tag:"button",textContent:"Generate snails",class:["gen-btn","btn"]}]});this.generatorBlock.append(t)},t.prototype.getBlock=function(){return this.generatorBlock},t}();var D=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Q="http://127.0.0.1:3000";const A=function(){function t(){var e=this;this.createCar=function(t){return D(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(Q,"/garage"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})];case 1:return e.sent(),[2]}}))}))},this.updateCar=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/garage/").concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.deleteCarFromGarage=function(t){return D(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(Q,"/garage/").concat(t),{method:"DELETE"})];case 1:return e.sent(),[2]}}))}))},this.deleteCarFromWinners=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners/").concat(n),{method:"DELETE"})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.createWinner=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.updateWinner=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners/").concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.controller=null}return t.prototype.subscribe=function(e){t.manager.controller=e},t.prototype.getManager=function(){return t.manager},t.manager=new t,t}();var O=(new A).getManager();function U(t){var e,n,r,a,i;return n=this,r=void 0,i=function(){var n,r,a,i,o;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(c){switch(c.label){case 0:return n=document.querySelector(".garage-title"),(r=t.target)&&r instanceof HTMLElement?(a=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement,i=null==a?void 0:a.id,null==a||a.remove(),i?[4,O.deleteCarFromGarage(+i)]:[3,4]):[3,4];case 1:return c.sent(),[4,O.deleteCarFromWinners(+i)];case 2:return c.sent(),[4,x()];case 3:o=c.sent(),n&&(n.textContent="Garage (".concat(o.length,")")),c.label=4;case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function o(t){try{u(i.next(t))}catch(t){e(t)}}function c(t){try{u(i.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(o,c)}u((i=i.apply(n,r||[])).next())}))}function P(t){return!!(t&&t instanceof HTMLInputElement)}var B=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},Y=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},G=(new A).getManager();function W(t){var e;return B(this,void 0,void 0,(function(){var n,r,a,i,o,c,u,s,l,d,f=this;return Y(this,(function(h){switch(h.label){case 0:return n=t.target,r=null===(e=n.parentElement)||void 0===e?void 0:e.parentElement,(a=null==r?void 0:r.id)?[4,m(+a)]:[3,2];case 1:return o=h.sent(),[3,3];case 2:o=null,h.label=3;case 3:return i=o,c=document.querySelector(".updateCar-div"),u=null==c?void 0:c.children[1],s=null==c?void 0:c.children[2],l=document.querySelector(".update-btn"),d=function(){return B(f,void 0,void 0,(function(){var t,e,n;return Y(this,(function(i){switch(i.label){case 0:return P(u)&&P(s)&&a?(t={id:+a,name:u.value,color:s.value},[4,G.updateCar(t)]):[3,2];case 1:i.sent(),(e=r.querySelector(".car"))instanceof HTMLElement&&(e.style.color=s.value),(n=r.querySelector(".car-name"))instanceof HTMLElement&&(n.textContent=u.value),i.label=2;case 2:return null==l||l.removeEventListener("click",d),[2]}}))}))},P(u)&&P(s)&&((null==i?void 0:i.name)&&(u.value=i.name),(null==i?void 0:i.color)&&(s.value=i.color)),null==l||l.addEventListener("click",d),[2]}}))}))}var R=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},q=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},J="http://127.0.0.1:3000";function Z(t,e){return R(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(J,"/engine?id=").concat(t,"&status=").concat(e),{method:"PATCH"})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))}function V(t){return R(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch("".concat(J,"/engine?id=").concat(t,"&status=drive"),{method:"PATCH"})];case 1:return[4,e.sent().json()];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}const H=function(){function t(t,e){var n=this;this.animateCar=function(t){n.startTime||(n.startTime=t);var e=(t-n.startTime)/1e3;n.startTime=t;var r=n.path*(e/n.time);n.car.style.transform="translateX(".concat(n.startPosition+=r,"px)"),n.car.getBoundingClientRect().x<=n.finish?n.requestID=window.requestAnimationFrame(n.animateCar):window.cancelAnimationFrame(n.requestID)},this.time=e,this.track=document.getElementById("".concat(t)),this.car=this.getItem(),this.finish=window.innerWidth-75,this.path=this.getPath(),this.startPosition=0,this.startTime=null,this.requestID=window.requestAnimationFrame(this.animateCar)}return t.prototype.getItem=function(){var t;return null===(t=this.track)||void 0===t?void 0:t.querySelector(".car")},t.prototype.getPath=function(){var t;return(null===(t=this.track)||void 0===t?void 0:t.querySelector(".car-div")).offsetWidth-55},t}();var F=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},X=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},K=function(t,e){return F(void 0,void 0,void 0,(function(){var n,r;return X(this,(function(a){switch(a.label){case 0:return n=e.distance/e.velocity/1e3,r=new H(t,n),[4,V(+t)];case 1:return a.sent()?[2,{id:t,time:n}]:(window.cancelAnimationFrame(r.requestID),[2,null])}}))}))};function $(t){return F(this,void 0,void 0,(function(){var e;return X(this,(function(n){switch(n.label){case 0:return[4,Z(+t,"started")];case 1:return e=n.sent(),[4,K(+t,e)];case 2:return[2,n.sent()]}}))}))}function _(t){var e,n,r;return F(this,void 0,void 0,(function(){var a,i,o;return X(this,(function(c){switch(c.label){case 0:return(a=t.target)&&a instanceof HTMLElement?(a.setAttribute("disabled","true"),null===(e=a.nextElementSibling)||void 0===e||e.removeAttribute("disabled"),i=null===(r=null===(n=a.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.parentElement,(o=null==i?void 0:i.id)?[4,$(+o)]:[3,2]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}}))}))}function tt(t){var e=null==t?void 0:t.querySelector(".car"),n=e.cloneNode(!0);n.style.transform="none",e.replaceWith(n)}function et(t){var e,n,r,a,i,o;return r=this,a=void 0,o=function(){var r,a,i,o;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(c){switch(c.label){case 0:return(r=t.target)&&r instanceof HTMLElement?(r.setAttribute("disabled","true"),a=null===(n=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.parentElement,i=null==a?void 0:a.querySelector(".button-a"),(o=null==a?void 0:a.id)?[4,Z(+o,"stopped")]:[3,2]):[3,2];case 1:c.sent()&&(tt(a),i.removeAttribute("disabled")),c.label=2;case 2:return[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{u(o.next(t))}catch(t){e(t)}}function c(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,c)}u((o=o.apply(r,a||[])).next())}))}var nt=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},at=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},it=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};const ot=function(){function t(){var t=this;this.itemsPerPage=7,this.updateTitles=function(){return at(t,void 0,void 0,(function(){var t;return it(this,(function(e){switch(e.label){case 0:return t=this,[4,x()];case 1:return t.data=e.sent(),this.pages=T(this.data,7,this.pages[0]),this.updateGarageLength(this.data.length),this.updatePageNumTitle(),[2]}}))}))},this.updateGarageLength=function(e){t.titles.firstElementChild instanceof HTMLElement&&(t.titles.firstElementChild.textContent="Garage (".concat(e,")"))},this.updatePageNumTitle=function(){t.titles.lastElementChild instanceof HTMLElement&&(t.titles.lastElementChild.textContent="Page ".concat(t.pages[0],"/").concat(t.pages[1]))},this.createRace=function(){return at(t,void 0,void 0,(function(){return it(this,(function(t){switch(t.label){case 0:return this.raceBlock.append(this.titles,this.carsBlock,this.buttons),[4,this.updateTitles()];case 1:return t.sent(),this.updateRace(0),[2]}}))}))},this.updateRace=function(e){return at(t,void 0,void 0,(function(){var t,n,r=this;return it(this,(function(a){return this.carsBlock.replaceChildren(""),this.data.slice(e,e+7).forEach((function(t){r.generateCarTrack(t)})),1===this.pages[1]?null===(t=this.buttons.lastElementChild)||void 0===t||t.setAttribute("disabled","true"):null===(n=this.buttons.lastElementChild)||void 0===n||n.removeAttribute("disabled"),[2]}))}))},this.pages=[1,1],this.data=[],this.raceBlock=v({tag:"div",class:["race"]}),this.carsBlock=v({tag:"div",class:["cars-block"]}),this.titles=this.createTitles(),this.buttons=N(),this.createRace(),this.buttons.addEventListener("click",(function(e){k(t.buttons,t.pages,t.itemsPerPage,t.updateRace.bind(t),e),t.updatePageNumTitle()}))}return t.prototype.createTitles=function(){var t=v({tag:"div",class:["title-div"],children:[{tag:"h2",class:["garage-title"]},{tag:"h2",class:["pages-num-title"]}]});return this.raceBlock.append(t),t},t.prototype.generateCarTrack=function(t){return at(this,void 0,void 0,(function(){var e;return it(this,(function(n){return e=function(t){var e=v({tag:"div",class:["race-track"]});e.id="".concat(t.id);var n=v({tag:"div",class:["track-upper-row"],children:[{tag:"button",class:["select-btn","btn"],textContent:"Select"},{tag:"button",class:["remove-btn","btn"],textContent:"Remove"},{tag:"span",class:["car-name"],textContent:"".concat(t.name)}]}),r=v({tag:"div",class:["track-lower-row"],children:[{tag:"div",class:["buttons-div"],children:[{tag:"button",class:["button-a","btn"],textContent:"A"},{tag:"button",class:["button-b","btn"],textContent:"B"}]},{tag:"div",class:["car-div"],children:[{tag:"div",class:["car"],color:t.color}]},{tag:"span",class:["flag-img"]}]}),a=r.querySelector(".car");return a&&(a.innerHTML=C),e.append(n,r),e}(t),function(t){nt(this,void 0,void 0,(function(){var e,n,r,a,i=this;return rt(this,(function(o){return e=t.querySelector(".remove-btn"),n=t.querySelector(".select-btn"),r=t.querySelector(".button-a"),null==(a=t.querySelector(".button-b"))||a.setAttribute("disabled","true"),null==e||e.addEventListener("click",(function(t){return nt(i,void 0,void 0,(function(){return rt(this,(function(e){switch(e.label){case 0:return[4,U(t)];case 1:return e.sent(),[2]}}))}))})),null==n||n.addEventListener("click",(function(t){return nt(i,void 0,void 0,(function(){return rt(this,(function(e){switch(e.label){case 0:return[4,W(t)];case 1:return e.sent(),[2]}}))}))})),null==r||r.addEventListener("click",(function(t){return nt(i,void 0,void 0,(function(){return rt(this,(function(e){switch(e.label){case 0:return[4,_(t)];case 1:return e.sent(),[2]}}))}))})),null==a||a.addEventListener("click",(function(t){return nt(i,void 0,void 0,(function(){return rt(this,(function(e){switch(e.label){case 0:return[4,et(t)];case 1:return e.sent(),[2]}}))}))})),[2]}))}))}(e),this.carsBlock.append(e),[2]}))}))},t.prototype.getBlock=function(){return this.raceBlock},t}();var ct=(new A).getManager(),ut=["Blitz","Flash","Rapida","Speedy","Veloce","Mad Max","Neutrino","Lemonade Joe","Eagle Eye","Blind Lemon","Bullfrog"],st=["the Furious","the Racer","the Rocket","the First","the Great","the Fastest","the Chaser","the Winner","the Slowest","the Snail","the Lucky"],lt=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},dt=function(){var t=ut.map(Math.random);ut.sort((function(e,n){return t[ut.indexOf(e)]-t[ut.indexOf(n)]}));var e=ut.map(Math.random);return st.sort((function(t,n){return e[st.indexOf(t)]-e[st.indexOf(n)]})),ut.map((function(t,e){return"".concat(t," ").concat(st[e])}))},ft=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},ht=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},pt=(new A).getManager(),vt=function(){var t=new Array(3);t.fill(0);var e=t.map((function(){return(0,255,Math.floor(Math.random()*(Math.floor(255)-Math.ceil(0)+1)+0)).toString(16)})).join("");return"#".concat(e)};function bt(t){return ft(this,void 0,void 0,(function(){var e,n=this;return ht(this,(function(r){switch(r.label){case 0:return e=[],function(){for(var t=[],e=0;e<10;e+=1){var n=dt();t.splice.apply(t,lt([t.length,0],n,!1))}return t.slice(0,100)}().forEach((function(t){var n={};n.name=t,n.color=vt(),e.push(n)})),e.forEach((function(t){return ft(n,void 0,void 0,(function(){return ht(this,(function(e){return[2,pt.createCar(t)]}))}))})),[4,t.updateTitles()];case 1:return r.sent(),[4,t.updateRace((t.pages[0]-1)*t.itemsPerPage)];case 2:return r.sent(),[2]}}))}))}function gt(t,e){var n=document.querySelectorAll(".btn"),r=document.querySelectorAll(".button-b"),a=document.querySelectorAll(".button-a"),i=document.querySelectorAll(".page-button");function o(t){var n,r,a=t.target;if(a&&a instanceof HTMLElement){var i=null===(r=null===(n=a.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.parentElement,o=null==i?void 0:i.id;o&&e&&e.push(+o)}}n.forEach((function(t){t.toggleAttribute("disabled")})),i.forEach((function(t){return t.classList.toggle("hidden")})),"disable"===t?(a.forEach((function(t){return t.setAttribute("disabled","true")})),r.forEach((function(t){t.addEventListener("click",o),t.removeAttribute("disabled")}))):"enable"===t&&(a.forEach((function(t){return t.removeAttribute("disabled")})),r.forEach((function(t){t.removeEventListener("click",o),t.setAttribute("disabled","true")})))}var yt=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))},wt=function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Mt=(new A).getManager();function mt(t){return yt(this,void 0,void 0,(function(){var e;return wt(this,(function(n){switch(n.label){case 0:return[4,M(t.id)];case 1:return(e=n.sent()).wins?[3,3]:(e.id=t.id,e.time=t.time,e.wins=1,[4,Mt.createWinner(e)]);case 2:return n.sent(),[3,5];case 3:return e.wins+=1,e.time&&(e.time=t.time>e.time?t.time:e.time),[4,Mt.updateWinner(e)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))}function xt(t,e){var n;return yt(this,void 0,void 0,(function(){var r,a,i,o;return wt(this,(function(c){switch(c.label){case 0:return r=t.filter((function(t){return!e.includes(t.id)})),(a=r.sort((function(t,e){return t.time-e.time}))[0]).time=Math.ceil(a.time),[4,m(a.id)];case 1:return i=c.sent(),o=v({tag:"div",class:["popup"],textContent:"".concat(i.name," showed the best time: ").concat(a.time,"sec!")}),null===(n=document.querySelector(".garage-block"))||void 0===n||n.append(o),gt("enable"),[2,mt(a)]}}))}))}function Lt(){var t;return yt(this,void 0,void 0,(function(){var e;return wt(this,(function(n){return e=Array.from(document.querySelectorAll(".race-track")),null===(t=document.querySelector(".popup"))||void 0===t||t.remove(),e.forEach((function(t){t instanceof HTMLElement&&tt(t)})),[2]}))}))}function Nt(t){var e=this,n=document.querySelector(".create-btn");null==n||n.addEventListener("click",(function(){!function(t){var e,n,r,a;e=this,n=void 0,a=function(){var e,n,r,a;return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(i){switch(i.label){case 0:return e=document.querySelector(".createCar-div"),n=null==e?void 0:e.children[1],r=null==e?void 0:e.children[2],P(n)&&P(r)?""!==n.value?[3,1]:(n.placeholder="Please, enter a name",[3,5]):[3,6];case 1:return a={name:n.value,color:r.value},[4,ct.createCar(a)];case 2:return i.sent(),[4,t.updateTitles()];case 3:return i.sent(),[4,t.updateRace((t.pages[0]-1)*t.itemsPerPage)];case 4:i.sent(),i.label=5;case 5:n.value="",r.value="#000000",i.label=6;case 6:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function o(t){try{u(a.next(t))}catch(t){i(t)}}function c(t){try{u(a.throw(t))}catch(t){i(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,c)}u((a=a.apply(e,n||[])).next())}))}(t)}));var r=document.querySelector(".race-btn");null==r||r.addEventListener("click",(function(){Lt(),function(){var t;yt(this,void 0,void 0,(function(){var e,n,r,a=this;return wt(this,(function(i){return null===(t=document.querySelector(".popup"))||void 0===t||t.remove(),gt("disable",e=[]),n=Array.from(document.querySelectorAll(".race-track")),r=[],Promise.allSettled(n.map((function(t){return yt(a,void 0,void 0,(function(){var e;return wt(this,(function(n){switch(n.label){case 0:return t?[4,$(+t.id)]:[3,2];case 1:(e=n.sent())&&r.push(e),n.label=2;case 2:return[2]}}))}))}))).then((function(){return yt(a,void 0,void 0,(function(){return wt(this,(function(t){switch(t.label){case 0:return[4,xt(r,e)];case 1:return t.sent(),[2]}}))}))})),[2]}))}))}()}));var a=document.querySelector(".reset-btn");null==a||a.addEventListener("click",(function(){Lt()}));var i=document.querySelector(".gen-btn");null==i||i.addEventListener("click",(function(){return n=e,r=void 0,i=function(){return function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){switch(e.label){case 0:return[4,bt(t)];case 1:return e.sent(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function o(t){try{u(i.next(t))}catch(t){e(t)}}function c(t){try{u(i.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(o,c)}u((i=i.apply(n,r||[])).next())}));var n,r,a,i}))}const Tt=function(){var t=this;this.openGarage=function(){var e;null===(e=document.querySelector(".winners-block"))||void 0===e||e.classList.add("hidden"),t.garageBlock.classList.remove("hidden")},this.garageBlock=v({tag:"div",class:["garage-block"]}),this.carsGenerator=new S,this.raceView=new ot,this.garageBlock.append(this.carsGenerator.getBlock(),this.raceView.getBlock()),document.body.append(this.garageBlock),Nt(this.raceView)},kt=function(){function t(){this.winners=null,this.garage=null,this.apiSetManager=new A,this.apiSetManager.subscribe(this)}return t.prototype.generateStartView=function(){this.winners=new z,this.winners.generateWinnersView(),this.garage=new Tt,this.garage.openGarage()},t.prototype.changeView=function(t){var e,n;switch(t.target.id){case"garageBtn":null===(e=this.garage)||void 0===e||e.openGarage();break;case"winnersBtn":null===(n=this.winners)||void 0===n||n.openWinners();break;default:throw new Error("Smth went wrong...")}},t.prototype.updateWinners=function(){var t;null===(t=this.winners)||void 0===t||t.generateWinnersView()},t}();(new(function(){function t(){this.header=null}return t.prototype.start=function(){this.header=new b;var t=new kt;t.generateStartView(),this.header.toGarage.addEventListener("click",(function(e){t.changeView(e)})),this.header.toWinners.addEventListener("click",(function(e){t.changeView(e)}))},t}())).start()})()})();