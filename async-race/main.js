(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(81),a=n.n(r),o=n(645),i=n.n(o),c=n(667),u=n.n(c),l=new URL(n(258),n.b),s=i()(a()),f=u()(l);s.push([t.id,`.hidden {\n    display: none;\n}\n\n.race-track {\n    border-bottom: black dashed 1px;\n}\n\n.track-lower-row {\nmin-height: 30px;\ndisplay: flex;\njustify-content: space-between;\n}\n.buttons-div {\n    width: 80px;\n}\n\n.car-div {\n    width:calc(100% - 80px);\n}\n\n.title-div {\n    display: flex;\n    justify-content: space-between;\n}\n\n.flag-img {\n    position: absolute;\n    right: 60px;\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    background-image: url(${f});\n    background-size: contain;\n    background-repeat: no-repeat;\n}`,""]);const d=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var l=0;l<t.length;l++){var s=[].concat(t[l]);r&&i[s[0]]||(void 0!==o&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=o),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),a&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=a):s[4]="".concat(a)),e.push(s))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},i=[],c=0;c<t.length;c++){var u=t[c],l=r.base?u[0]+r.base:u[0],s=o[l]||0,f="".concat(l," ").concat(s);o[l]=s+1;var d=n(f),h={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var p=a(h,r);r.byIndex=c,e.splice(c,0,{identifier:f,updater:p,references:1})}i.push(f)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var c=n(o[i]);e[c].references--}for(var u=r(t,a),l=0;l<o.length;l++){var s=n(o[l]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}o=u}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},258:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDQ1My40MDUgNDUzLjQwNSINCgkgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTM4Mi4wOCw2MC4zOTRjLTI2LjMyNC00LjUzNC01My40NDQtMC44NDUtNzkuNzY0LDEuNzUxYy0yNi4yMjMsMi41ODctNTMuNjA0LDUuNzUzLTc5LjU4NS0wLjM5Nw0KCQkJYy0zMC41OTItNy4yNDEtNDkuOTQ1LTI3LjI5NC02NC4yMTYtNTQuNDY0Yy0zLjkzNSwxMC42NDYtNy44NjksMjEuMjkxLTExLjgwMywzMS45MzgNCgkJCWMtMjUuNzQsNjkuNjQ2LTUxLjQ3OSwxMzkuMjkyLTc3LjIxOCwyMDguOTM4TDAsNDM2LjIwM2wyNi44MzgsOS45MTlsNjIuNTQxLTE2OS4yMjdjMTEuNjA3LDEyLjM4MywyNS45MzcsMjEuMzc1LDQ0LjMzMywyNS43MjkNCgkJCWMyNS45NzksNi4xNDYsNTMuMzYzLDIuOTg2LDc5LjU4NCwwLjM5OGMyNi4zMTgtMi42MDEsNTMuNDQxLTYuMjg3LDc5Ljc2NS0xLjc1MmMzMy44MjYsNS44MjYsNTUuNjgyLDI2LjA4Niw3MS4zMjMsNTUuODcxDQoJCQljMjkuNjc3LTgwLjI5MSw1OS4zNDgtMTYwLjU4Myw4OS4wMjEtMjQwLjg3NkM0MzcuNzYxLDg2LjQ3OSw0MTUuOTExLDY2LjIyMiwzODIuMDgsNjAuMzk0eiBNMzg1LjM3OSwyMDMuMzQ5DQoJCQljLTEzLjIzNC0xMS4xNjktMjcuNDQxLTE4LjYzOC00NC41Ny0yMS45MzFjLTUuNzE1LDE1LjQ1OC0xMS40MjgsMzAuOTE2LTE3LjE0MSw0Ni4zNzRjMTcuMTMxLDMuMjk1LDMxLjMzNSwxMC43NjQsNDQuNTcyLDIxLjkzMg0KCQkJYy01LjIzOSwxNC4xNzYtMTAuNDc5LDI4LjM1My0xNS43MTcsNDIuNTI2Yy0xMy4yMzQtMTEuMTY4LTI3LjQ0My0xOC42NDItNDQuNTczLTIxLjkzYzUuMjM5LTE0LjE3NywxMC40NzktMjguMzUzLDE1LjcxOC00Mi41MjgNCgkJCWMtMTcuNDQyLTIuODEzLTM0LjQ3My0yLjc5Ny01Mi4wNzItMS43MmMtNS4yMzgsMTQuMTc2LTEwLjQ3OSwyOC4zNTMtMTUuNzE3LDQyLjUyOGMtMTguMjEsMS40NzEtMzYuMzU4LDMuNTYtNTQuNTY3LDUuMDI4DQoJCQljNS4yMzgtMTQuMTc4LDEwLjQ3OC0yOC4zNTMsMTUuNzE2LTQyLjUyNmMtMTcuNTk5LDEuMDc4LTM0LjYzMSwxLjA5Ni01Mi4wNzMtMS43MTljLTUuMjM5LDE0LjE3Ni0xMC40NzgsMjguMzUyLTE1LjcxNyw0Mi41MjYNCgkJCWMtMTcuMTI4LTMuMjktMzEuMzQxLTEwLjc2My00NC41NzItMjEuOTMzYzUuMjM4LTE0LjE3NCwxMC40NzgtMjguMzUxLDE1LjcxNi00Mi41MjVjMTMuMjM2LDExLjE3LDI3LjQ0MiwxOC42NCw0NC41NzMsMjEuOTMyDQoJCQljNS43MTItMTUuNDU4LDExLjQyNy0zMC45MTgsMTcuMTM5LTQ2LjM3NmMtMTcuMTMtMy4yODUtMzEuMzM4LTEwLjc2Ni00NC41NzMtMjEuOTNjNS43MTQtMTUuNDYsMTEuNDI3LTMwLjkyLDE3LjE0LTQ2LjM3OA0KCQkJYzEzLjIzNiwxMS4xNzMsMjcuNDQyLDE4LjYzNSw0NC41NzIsMjEuOTMzYzUuMjM5LTE0LjE3NiwxMC40NzgtMjguMzUxLDE1LjcxNy00Mi41MjVjMTcuNDQyLDIuODEzLDM0LjQ3NiwyLjc5Nyw1Mi4wNzMsMS43MTcNCgkJCWMtNS4yMzgsMTQuMTc1LTEwLjQ3OCwyOC4zNTEtMTUuNzE3LDQyLjUyNmMxOC4yMDktMS40NzEsMzYuMzU3LTMuNTU4LDU0LjU2Ny01LjAyOGM1LjIzOC0xNC4xNzUsMTAuNDc5LTI4LjM1MSwxNS43MTctNDIuNTI3DQoJCQljMTcuNjAxLTEuMDc4LDM0LjYyOS0xLjA5NSw1Mi4wNzIsMS43MTljLTUuMjM5LDE0LjE3Ni0xMC40NzgsMjguMzUxLTE1LjcxNyw0Mi41MjhjMTcuMTMxLDMuMjk0LDMxLjMzNSwxMC43NjEsNDQuNTczLDIxLjkzDQoJCQlDMzk2LjgwNiwxNzIuNDMxLDM5MS4wOTUsMTg3Ljg5MSwzODUuMzc5LDIwMy4zNDl6Ii8+DQoJCTxwYXRoIGQ9Ik0yMzQuMTY3LDE4NC43MjZjLTUuNzEzLDE1LjQ1OS0xMS40MjYsMzAuOTE3LTE3LjE0LDQ2LjM3NmMxOC4yMS0xLjQ3MiwzNi4zNTktMy41Niw1NC41NjgtNS4wMw0KCQkJYzUuNzEzLTE1LjQ1NywxMS40MjYtMzAuOTE2LDE3LjEzOS00Ni4zNzRDMjcwLjUyMywxODEuMTY5LDI1Mi4zNzYsMTgzLjI1NywyMzQuMTY3LDE4NC43MjZ6Ii8+DQoJCTxwYXRoIGQ9Ik0yMzQuMTY3LDE4NC43MjZjNS43MTQtMTUuNDU4LDExLjQyNy0zMC45MTgsMTcuMTQtNDYuMzc1Yy0xNy42MDQsMS4wNzUtMzQuNjI5LDEuMDkzLTUyLjA3NS0xLjcxOA0KCQkJYy01LjcxMywxNS40NTgtMTEuNDI2LDMwLjkxNy0xNy4xMzksNDYuMzc1QzE5OS41MzYsMTg1LjgyNCwyMTYuNTY2LDE4NS44MDcsMjM0LjE2NywxODQuNzI2eiIvPg0KCQk8cGF0aCBkPSJNMzA1Ljg3MywxMzMuMzIzYy01LjcxMywxNS40NTgtMTEuNDI2LDMwLjkxNi0xNy4xMzksNDYuMzc1YzE3LjYwMS0xLjA3NSwzNC42MjktMS4wOTMsNTIuMDczLDEuNzINCgkJCWM1LjcxMi0xNS40NTgsMTEuNDI2LTMwLjkxNywxNy4xMzgtNDYuMzc1QzM0MC41MDMsMTMyLjIyOSwzMjMuNDc0LDEzMi4yNDMsMzA1Ljg3MywxMzMuMzIzeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg=="}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),a=n.n(r),o=n(569),i=n.n(o),c=n(565),u=n.n(c),l=n(216),s=n.n(l),f=n(589),d=n.n(f),h=n(426),p={};function v(t){var e,n=document.createElement(t.tag);return t.class&&(e=n.classList).add.apply(e,t.class),t.id&&(n.id=t.id),t.type&&n.setAttribute("type",t.type),t.color&&(n.style.color=t.color),t.setData&&n.setAttribute("data",t.setData),t.textContent&&(n.textContent=t.textContent),t.children&&t.children.forEach((function(t){n.append(v(t))})),n}p.styleTagTransform=d(),p.setAttributes=u(),p.insert=i().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=s(),e()(h.Z,p),h.Z&&h.Z.locals&&h.Z.locals;const b=function(){function t(){this.toGarage=v({tag:"button",class:["header-button","btn"],textContent:"to Garage",id:"garageBtn"}),this.toWinners=v({tag:"button",class:["header-button","btn"],textContent:"to Winners",id:"winnersBtn"}),this.header=this.createHeaderView()}return t.prototype.createHeaderView=function(){var t=v({tag:"header"});return t.append(this.toGarage),t.append(this.toWinners),document.body.append(t),t},t}();var y=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},M=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g="http://127.0.0.1:3000";function w(){return y(this,void 0,void 0,(function(){var t,e,n=this;return M(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(g,"/winners"))];case 1:return[4,r.sent().json()];case 2:return t=r.sent(),e=t.map((function(t){return y(n,void 0,void 0,(function(){var e;return M(this,(function(n){switch(n.label){case 0:return[4,L(t.id)];case 1:return e=n.sent(),t.name=e.name,t.color=e.color,[2,t]}}))}))})),[4,Promise.all(e)];case 3:return[2,r.sent()]}}))}))}function m(t){return y(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(g,"/winners/").concat(t))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}function L(t){return y(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(g,"/garage/").concat(t))];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}function N(){return y(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(g,"/garage"))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))}function x(){var t=v({tag:"div"}),e=v({tag:"button",class:["page-button","prev-btn","btn"],textContent:"prev"});e.setAttribute("disabled","true");var n=v({tag:"button",class:["page-button","next-btn","btn"],textContent:"next"});return t.append(e,n),t}function T(t,e,n){return[n,0===t.length?1:Math.ceil(t.length/e)]}function j(t,e,n,r,a,o){var i,c,u,l,s=o||(null==a?void 0:a.target).textContent;"next"===s?(r(e[0]*n),null===(i=t.firstElementChild)||void 0===i||i.removeAttribute("disabled"),e[0]+=1,e[0]===e[1]&&(null===(c=t.lastElementChild)||void 0===c||c.setAttribute("disabled","true"))):"prev"===s&&(e[0]-=1,r((e[0]-1)*n),null===(u=t.lastElementChild)||void 0===u||u.removeAttribute("disabled"),1===e[0]&&(null===(l=t.firstElementChild)||void 0===l||l.setAttribute("disabled","true")))}var E=document.createElementNS("http://www.w3.org/2000/svg","path");E.setAttribute("fill","currentColor"),E.setAttribute("d","M45.6,0c-0.9,0-1.7,0.7-1.9,1.6c-0.9,0.4-1.6,1.1-2,2c-0.6,1.2-0.7,2.6-0.8,4.2c-0.1,2.7,0.3,5.7,0.5,8.4c-0.2,1.6-0.5,3-1,4.4c0.3,1.9,0.4,3.9,0.1,5.9c-0.5,4.1-3.9,6.5-7.5,7.2c-3.3,0.7-7,0-9.4-2.1c-3.7,2.4-8.2,3-12,1.8c-4.5,1.7-8,4.1-9.4,6.6h34.3c11,0,14.7-11.5,11.9-24.1c0,0,0,0,0,0c-0.6-4.4,0.1-7.5,1.6-9.5c0.2,0.1,0.4,0.1,0.7,0.1c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2c0,0.1,0,0.2,0,0.3c-2.3,2.7-3.1,7-2.1,12.6c-1.1,0.5-2.3,0.3-3.4-0.7c-0.1-3-0.6-6.3-0.5-9c0-1.4,0.2-2.6,0.6-3.4c0.2-0.5,0.5-0.8,0.8-1C44.6,3.8,45.1,4,45.6,4c1.1,0,2-0.9,2-2C47.6,0.9,46.7,0,45.6,0L45.6,0z M20.8,3.4c-0.2,0-0.5,0-0.7,0c-3.8,0.2-7.5,1.7-10.6,4.4c-6.1,5.4-6.3,15.4-1,21.5c4.1,4.1,11.4,3.7,16.2-1.1c4-4,4.3-10.1,0.9-13.6c-2.4-2.4-6.5-2.6-9.2,0.1c-0.6,0.6-1,1.7-1,2.9c0,1.2,0.4,2.3,1,3.1c0.4,0.5,1.1,0.9,2,1.1c0.5,0.1,1,0.2,1.5,0.1c1.4,0,2.8-1,2.8-2.8c0-1.7-1.1-2.6-2.3-2.8c0.8-0.1,1.6,0.1,2.2,0.4c0.9,0.5,1.5,1.4,1.7,2.3c0.4,1.8-0.6,4-2.7,4.6l0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c-1.1,0.4-2.4,0.4-3.5,0.1c-1.2-0.3-2.3-0.9-3-1.8c-1-1.2-1.5-2.8-1.5-4.4s0.4-3.1,1.5-4.3c3.4-3.6,8.9-3.3,12-0.2c4.3,4.3,3.8,11.7-0.9,16.4v0c-0.3,0.3-0.6,0.5-0.9,0.8c1.8,1.4,4.7,1.9,7.3,1.4c3-0.6,5.5-2.4,5.9-5.6c1-7.7-3.7-15.7-7.7-19.1C27.8,4.6,24.3,3.4,20.8,3.4L20.8,3.4z");var k=document.createElement("svg");k.append(E),k.setAttribute("version","1.1"),k.setAttribute("xmlns","http://www.w3.org/2000/svg"),k.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),k.setAttribute("x","0px"),k.setAttribute("y","0px"),k.setAttribute("viewBox","0 0 55 40"),k.setAttribute("width","55px"),k.setAttribute("height","40px");var C='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 40" width="55px" height="40px"><path fill="currentColor" d="M45.6,0c-0.9,0-1.7,0.7-1.9,1.6c-0.9,0.4-1.6,1.1-2,2c-0.6,1.2-0.7,2.6-0.8,4.2c-0.1,2.7,0.3,5.7,0.5,8.4c-0.2,1.6-0.5,3-1,4.4c0.3,1.9,0.4,3.9,0.1,5.9c-0.5,4.1-3.9,6.5-7.5,7.2c-3.3,0.7-7,0-9.4-2.1c-3.7,2.4-8.2,3-12,1.8c-4.5,1.7-8,4.1-9.4,6.6h34.3c11,0,14.7-11.5,11.9-24.1c0,0,0,0,0,0c-0.6-4.4,0.1-7.5,1.6-9.5c0.2,0.1,0.4,0.1,0.7,0.1c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2c-1.1,0-2,0.9-2,2c0,0.1,0,0.2,0,0.3c-2.3,2.7-3.1,7-2.1,12.6c-1.1,0.5-2.3,0.3-3.4-0.7c-0.1-3-0.6-6.3-0.5-9c0-1.4,0.2-2.6,0.6-3.4c0.2-0.5,0.5-0.8,0.8-1C44.6,3.8,45.1,4,45.6,4c1.1,0,2-0.9,2-2C47.6,0.9,46.7,0,45.6,0L45.6,0z M20.8,3.4c-0.2,0-0.5,0-0.7,0c-3.8,0.2-7.5,1.7-10.6,4.4c-6.1,5.4-6.3,15.4-1,21.5c4.1,4.1,11.4,3.7,16.2-1.1c4-4,4.3-10.1,0.9-13.6c-2.4-2.4-6.5-2.6-9.2,0.1c-0.6,0.6-1,1.7-1,2.9c0,1.2,0.4,2.3,1,3.1c0.4,0.5,1.1,0.9,2,1.1c0.5,0.1,1,0.2,1.5,0.1c1.4,0,2.8-1,2.8-2.8c0-1.7-1.1-2.6-2.3-2.8c0.8-0.1,1.6,0.1,2.2,0.4c0.9,0.5,1.5,1.4,1.7,2.3c0.4,1.8-0.6,4-2.7,4.6l0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c-1.1,0.4-2.4,0.4-3.5,0.1c-1.2-0.3-2.3-0.9-3-1.8c-1-1.2-1.5-2.8-1.5-4.4s0.4-3.1,1.5-4.3c3.4-3.6,8.9-3.3,12-0.2c4.3,4.3,3.8,11.7-0.9,16.4v0c-0.3,0.3-0.6,0.5-0.9,0.8c1.8,1.4,4.7,1.9,7.3,1.4c3-0.6,5.5-2.4,5.9-5.6c1-7.7-3.7-15.7-7.7-19.1C27.8,4.6,24.3,3.4,20.8,3.4L20.8,3.4z"/></svg>';const z=function(){function t(){var t=this;this.itemsPerPage=10,this.openWinners=function(){var e;null===(e=document.querySelector(".garage-block"))||void 0===e||e.classList.add("hidden"),t.winnersBlock.classList.remove("hidden")},this.generateWinnersView=function(){return e=t,n=void 0,a=function(){var t,e,n,r;return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(a){switch(a.label){case 0:return this.winnersBlock.replaceChildren(""),t=document.createDocumentFragment(),e=this,[4,w()];case 1:return e.data=a.sent(),n=v({tag:"h1",class:["winners-title"],textContent:"Winners(".concat(this.data.length,")")}),this.generateTableRows(0),this.pages=T(this.data,this.itemsPerPage,this.pages[0]),t.append(n,this.table,this.buttons),1===this.pages[1]&&(null===(r=this.buttons.lastElementChild)||void 0===r||r.setAttribute("disabled","true")),this.winnersBlock.append(t),this.winnersBlock.classList.add("hidden"),document.body.append(this.winnersBlock),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function i(t){try{u(a.next(t))}catch(t){o(t)}}function c(t){try{u(a.throw(t))}catch(t){o(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(i,c)}u((a=a.apply(e,n||[])).next())}));var e,n,r,a},this.pages=[1,1],this.data=[],this.winnersBlock=v({tag:"div",class:["winners-block"]}),this.table=v({tag:"table",class:["winners-table"]}),this.buttons=x(),this.buttons.addEventListener("click",(function(e){j(t.buttons,t.pages,t.itemsPerPage,t.generateTableRows.bind(t),e)})),this.generateTable()}return t.prototype.generateTable=function(){var t=v({tag:"thead"}),e=v({tag:"tbody"}),n=v({tag:"tr"});["№","Image","Name","Wins","Best time(sec)"].forEach((function(t){n.append(v({tag:"th",textContent:t}))})),t.append(n),this.table.append(t,e)},t.prototype.generateTableRows=function(t){var e,n=this;null===(e=this.table.lastElementChild)||void 0===e||e.replaceChildren(""),this.data.slice(t,t+this.itemsPerPage).forEach((function(t){var e,r=v({tag:"tr"}),a=[t.name,t.wins,t.time];r.append(v({tag:"th",textContent:"".concat(t.id)}));var o=v({tag:"svg",color:"".concat(t.color)});o.innerHTML=C,r.append(o),a.forEach((function(t){r.append(v({tag:"th",textContent:"".concat(t)}))})),null===(e=n.table.lastElementChild)||void 0===e||e.append(r)}))},t}(),S=function(){function t(){this.generatorBlock=v({tag:"div",class:["cars-generator"]}),this.generateCarsButtons(),this.generateRaceButtons()}return t.prototype.generateCarsButtons=function(){var t=v({tag:"div",class:["createCar-div"],textContent:"Create new car",children:[{tag:"input",class:["create-name","input"]},{tag:"input",type:"color",class:["pick-color","input"]},{tag:"button",class:["create-btn","btn"],textContent:"create"}]}),e=v({tag:"div",class:["updateCar-div"],textContent:"Update car",children:[{tag:"input",class:["update-name","input"]},{tag:"input",type:"color",class:["pick-color","input"]},{tag:"button",class:["update-btn","btn"],textContent:"update"}]});this.generatorBlock.append(t,e)},t.prototype.generateRaceButtons=function(){var t=v({tag:"div",class:["race-btns"],children:[{tag:"button",textContent:"RACE",class:["race-btn","btn"]},{tag:"button",textContent:"RESET",class:["reset-btn","btn"]},{tag:"button",textContent:"Generate cars",class:["gen-btn","btn"]}]});this.generatorBlock.append(t)},t.prototype.getBlock=function(){return this.generatorBlock},t}();var D=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Q="http://127.0.0.1:3000";const A=function(){function t(){var e=this;this.createCar=function(t){return D(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(Q,"/garage"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})];case 1:return e.sent(),[2]}}))}))},this.updateCar=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/garage/").concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.deleteCarFromGarage=function(t){return D(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,fetch("".concat(Q,"/garage/").concat(t),{method:"DELETE"})];case 1:return e.sent(),[2]}}))}))},this.deleteCarFromWinners=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners/").concat(n),{method:"DELETE"})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.createWinner=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.updateWinner=function(n){return D(e,void 0,void 0,(function(){var e;return I(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Q,"/winners/").concat(n.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})];case 1:return r.sent(),null===(e=t.manager.controller)||void 0===e||e.updateWinners(),[2]}}))}))},this.controller=null}return t.prototype.subscribe=function(e){t.manager.controller=e},t.prototype.getManager=function(){return t.manager},t.manager=new t,t}();var O=(new A).getManager();function U(t){var e,n,r,a,o;return n=this,r=void 0,o=function(){var n,r,a,o,i;return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(c){switch(c.label){case 0:return n=document.querySelector(".garage-title"),(r=t.target)&&r instanceof HTMLElement?(a=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement,o=null==a?void 0:a.id,null==a||a.remove(),o?[4,O.deleteCarFromGarage(+o)]:[3,4]):[3,4];case 1:return c.sent(),[4,O.deleteCarFromWinners(+o)];case 2:return c.sent(),[4,N()];case 3:i=c.sent(),n&&(n.textContent="Garage (".concat(i.length,")")),c.label=4;case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function i(t){try{u(o.next(t))}catch(t){e(t)}}function c(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(i,c)}u((o=o.apply(n,r||[])).next())}))}function B(t){return!!(t&&t instanceof HTMLInputElement)}var P=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},Y=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},G=(new A).getManager();function R(t){var e;return P(this,void 0,void 0,(function(){var n,r,a,o,i,c,u,l,s,f,d=this;return Y(this,(function(h){switch(h.label){case 0:return n=function(){return P(d,void 0,void 0,(function(){var t,e,r;return Y(this,(function(i){switch(i.label){case 0:return B(l)&&B(s)&&o?(t={id:+o,name:l.value,color:s.value},[4,G.updateCar(t)]):[3,2];case 1:i.sent(),(e=a.querySelector(".car"))instanceof HTMLElement&&(e.style.color=s.value),(r=a.querySelector(".car-name"))instanceof HTMLElement&&(r.textContent=l.value),l.value="",s.value="#000000",i.label=2;case 2:return null==f||f.removeEventListener("click",n),[2]}}))}))},r=t.target,a=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement,(o=null==a?void 0:a.id)?[4,L(+o)]:[3,2];case 1:return c=h.sent(),[3,3];case 2:c=null,h.label=3;case 3:return i=c,u=document.querySelector(".updateCar-div"),l=null==u?void 0:u.children[0],s=null==u?void 0:u.children[1],B(l)&&B(s)&&((null==i?void 0:i.name)&&(l.value=i.name),(null==i?void 0:i.color)&&(s.value=i.color)),null==(f=document.querySelector(".update-btn"))||f.addEventListener("click",n),[2]}}))}))}var W=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},J=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Z="http://127.0.0.1:3000";function H(t,e){return W(this,void 0,void 0,(function(){var n;return J(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(Z,"/engine?id=").concat(t,"&status=").concat(e),{method:"PATCH"})];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),console.log("switchEngine",t),[2,n]}}))}))}function V(t){return W(this,void 0,void 0,(function(){var e,n;return J(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(Z,"/engine?id=").concat(t,"&status=drive"),{method:"PATCH"})];case 1:return[4,r.sent().json()];case 2:return e=r.sent(),console.log(e),[2,!0];case 3:return(n=r.sent())instanceof Error&&console.log(n.message),[2,!1];case 4:return[2]}}))}))}var q=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},F=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function X(t){var e,n,r;return q(this,void 0,void 0,(function(){var a,o,i;return F(this,(function(c){switch(c.label){case 0:return(a=t.target)&&a instanceof HTMLElement?(a.setAttribute("disabled","true"),null===(e=a.nextElementSibling)||void 0===e||e.removeAttribute("disabled"),o=null===(r=null===(n=a.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.parentElement,(i=null==o?void 0:o.id)?[4,K(+i)]:[3,2]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}}))}))}function K(t){return q(this,void 0,void 0,(function(){var e;return F(this,(function(n){switch(n.label){case 0:return console.log("car ".concat(t," started")),[4,H(+t,"started")];case 1:return e=n.sent(),console.log(t,e),[4,_(+t,e)];case 2:return[2,n.sent()]}}))}))}var _=function(t,e){return q(void 0,void 0,void 0,(function(){var n;return F(this,(function(r){switch(r.label){case 0:return n=e.distance/e.velocity,console.log("startAnimation()",t),[4,V(+t)];case 1:return r.sent()?[2,{id:t,time:n}]:(console.log("stopAnimation()",t),[2,null])}}))}))};function $(t){var e,n,r,a,o,i,c;return a=this,o=void 0,c=function(){var a,o;return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(i){switch(i.label){case 0:return(a=t.target)&&a instanceof HTMLElement?(a.setAttribute("disabled","true"),o=null===(r=null===(n=null===(e=a.parentElement)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.id,console.log("car ".concat(o," stopped")),o?[4,H(+o,"stopped")]:[3,2]):[3,2];case 1:i.sent(),console.log("bringCarBack():",o),i.label=2;case 2:return[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{u(c.next(t))}catch(t){e(t)}}function r(t){try{u(c.throw(t))}catch(t){e(t)}}function u(e){var a;e.done?t(e.value):(a=e.value,a instanceof i?a:new i((function(t){t(a)}))).then(n,r)}u((c=c.apply(a,o||[])).next())}))}var tt=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},et=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},nt=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};const at=function(){function t(){var t=this;this.itemsPerPage=7,this.updateTitles=function(){return nt(t,void 0,void 0,(function(){var t;return rt(this,(function(e){switch(e.label){case 0:return t=this,[4,N()];case 1:return t.data=e.sent(),this.pages=T(this.data,7,this.pages[0]),this.updateGarageLength(this.data.length),this.updatePageNumTitle(),[2]}}))}))},this.updateGarageLength=function(e){t.titles.firstElementChild instanceof HTMLElement&&(t.titles.firstElementChild.textContent="Garage (".concat(e,")"))},this.updatePageNumTitle=function(){t.titles.lastElementChild instanceof HTMLElement&&(t.titles.lastElementChild.textContent="Page ".concat(t.pages[0],"/").concat(t.pages[1]))},this.createRace=function(){return nt(t,void 0,void 0,(function(){return rt(this,(function(t){switch(t.label){case 0:return this.raceBlock.append(this.titles,this.carsBlock,this.buttons),[4,this.updateTitles()];case 1:return t.sent(),this.updateRace(0),[2]}}))}))},this.updateRace=function(e){return nt(t,void 0,void 0,(function(){var t,n,r=this;return rt(this,(function(a){return this.carsBlock.replaceChildren(""),this.data.slice(e,e+7).forEach((function(t){r.generateCarTrack(t)})),1===this.pages[1]?null===(t=this.buttons.lastElementChild)||void 0===t||t.setAttribute("disabled","true"):null===(n=this.buttons.lastElementChild)||void 0===n||n.removeAttribute("disabled"),[2]}))}))},this.pages=[1,1],this.data=[],this.raceBlock=v({tag:"div",class:["race"]}),this.carsBlock=v({tag:"div",class:["cars-block"]}),this.titles=this.createTitles(),this.buttons=x(),this.createRace(),this.buttons.addEventListener("click",(function(e){j(t.buttons,t.pages,t.itemsPerPage,t.updateRace.bind(t),e),t.updatePageNumTitle()}))}return t.prototype.createTitles=function(){var t=v({tag:"div",class:["title-div"],children:[{tag:"h2",class:["garage-title"]},{tag:"h2",class:["pages-num-title"]}]});return this.raceBlock.append(t),t},t.prototype.generateCarTrack=function(t){return nt(this,void 0,void 0,(function(){var e;return rt(this,(function(n){return e=function(t){var e=v({tag:"div",class:["race-track"]});e.id="".concat(t.id);var n=v({tag:"div",class:["track-upper-row"],children:[{tag:"button",class:["select-btn","btn"],textContent:"Select"},{tag:"button",class:["remove-btn","btn"],textContent:"Remove"},{tag:"span",class:["car-name"],textContent:"".concat(t.name)}]}),r=v({tag:"div",class:["track-lower-row"],children:[{tag:"div",class:["buttons-div"],children:[{tag:"button",class:["button-a","btn"],textContent:"A"},{tag:"button",class:["button-b","btn"],textContent:"B"}]},{tag:"div",class:["car-div"],children:[{tag:"div",class:["car"],color:t.color}]},{tag:"span",class:["flag-img"]}]}),a=r.querySelector(".car");return a&&(a.innerHTML=C),e.append(n,r),e}(t),function(t){tt(this,void 0,void 0,(function(){var e,n,r,a,o=this;return et(this,(function(i){return e=t.querySelector(".remove-btn"),n=t.querySelector(".select-btn"),r=t.querySelector(".button-a"),null==(a=t.querySelector(".button-b"))||a.setAttribute("disabled","true"),null==e||e.addEventListener("click",(function(t){return tt(o,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,U(t)];case 1:return e.sent(),[2]}}))}))})),null==n||n.addEventListener("click",(function(t){return tt(o,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,R(t)];case 1:return e.sent(),[2]}}))}))})),null==r||r.addEventListener("click",(function(t){return tt(o,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,X(t)];case 1:return e.sent(),[2]}}))}))})),null==a||a.addEventListener("click",(function(t){return tt(o,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,$(t)];case 1:return e.sent(),[2]}}))}))})),[2]}))}))}(e),this.carsBlock.append(e),[2]}))}))},t.prototype.getBlock=function(){return this.raceBlock},t}();var ot=(new A).getManager(),it=["Blitz","Flash","Rapida","Speedy","Veloce","Mad Max","Neutrino","Lemonade Joe","Eagle Eye","Blind Lemon","Bullfrog"],ct=["the Furious","the Racer","the Rocket","the First","the Great","the Fastest","the Chaser","the Winner","the Slowest","the Snail","the Lucky"],ut=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},lt=function(){var t=it.map(Math.random);it.sort((function(e,n){return t[it.indexOf(e)]-t[it.indexOf(n)]}));var e=it.map(Math.random);return ct.sort((function(t,n){return e[ct.indexOf(t)]-e[ct.indexOf(n)]})),it.map((function(t,e){return t+" "+ct[e]}))},st=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},ft=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},dt=(new A).getManager();function ht(t){return st(this,void 0,void 0,(function(){var e,n=this;return ft(this,(function(r){switch(r.label){case 0:return e=[],function(){for(var t=[],e=0;e<10;e++){var n=lt();t.splice.apply(t,ut([t.length,0],n,!1))}return t.slice(0,100)}().forEach((function(t){var n={};n.name=t,n.color=pt(),e.push(n)})),e.forEach((function(t){return st(n,void 0,void 0,(function(){return ft(this,(function(e){switch(e.label){case 0:return[4,dt.createCar(t)];case 1:return[2,e.sent()]}}))}))})),[4,t.updateTitles()];case 1:return r.sent(),[4,t.updateRace((t.pages[0]-1)*t.itemsPerPage)];case 2:return r.sent(),[2]}}))}))}var pt=function(){var t=new Array(3);t.fill(0);var e=t.map((function(){return(0,255,Math.floor(Math.random()*(Math.floor(255)-Math.ceil(0)+1)+0)).toString(16)})).join("");return"#".concat(e)};function vt(t,e){var n=document.querySelectorAll(".btn"),r=document.querySelectorAll(".button-b"),a=document.querySelectorAll(".button-a"),o=document.querySelectorAll(".page-button");function i(t){var n,r,a=t.target;if(a&&a instanceof HTMLElement){var o=null===(r=null===(n=a.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.parentElement,i=null==o?void 0:o.id;i&&e&&e.push(+i)}}n.forEach((function(t){t.toggleAttribute("disabled")})),o.forEach((function(t){return t.classList.toggle("hidden")})),"disable"===t?(a.forEach((function(t){return t.setAttribute("disabled","true")})),r.forEach((function(t){t.addEventListener("click",i),t.removeAttribute("disabled")}))):"enable"===t&&(a.forEach((function(t){return t.removeAttribute("disabled")})),r.forEach((function(t){t.removeEventListener("click",i),t.setAttribute("disabled","true")})))}var bt=function(t,e,n,r){return new(n||(n=Promise))((function(a,o){function i(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},yt=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Mt=(new A).getManager();function gt(t,e){return bt(this,void 0,void 0,(function(){var n,r,a;return yt(this,(function(o){switch(o.label){case 0:return n=t.filter((function(t){return!e.includes(t.id)})),(r=n.sort((function(t,e){return t.time-e.time}))[0]).time=Math.ceil(r.time),[4,L(r.id)];case 1:return a=o.sent(),alert("Aaaaaaand! ".concat(a.name," showed the best time: ").concat(r.time,"!!! WOW!")),vt("enable"),[4,wt(r)];case 2:return[2,o.sent()]}}))}))}function wt(t){return bt(this,void 0,void 0,(function(){var e;return yt(this,(function(n){switch(n.label){case 0:return console.log(t),[4,m(t.id)];case 1:return(e=n.sent()).wins?[3,3]:(e.id=t.id,e.time=t.time,e.wins=1,console.log(e),[4,Mt.createWinner(e)]);case 2:return n.sent(),[3,5];case 3:return e.wins+=1,e.time&&(e.time=t.time>e.time?t.time:e.time),[4,Mt.updateWinner(e)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))}function mt(t){var e=this,n=document.querySelector(".create-btn");null==n||n.addEventListener("click",(function(){!function(t){var e,n,r,a;e=this,n=void 0,a=function(){var e,n,r,a;return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:return e=document.querySelector(".createCar-div"),n=null==e?void 0:e.children[0],r=null==e?void 0:e.children[1],B(n)&&B(r)?""!==n.value?[3,1]:(alert("Please, enter a car name"),[3,5]):[3,6];case 1:return a={name:n.value,color:r.value},[4,ot.createCar(a)];case 2:return o.sent(),[4,t.updateTitles()];case 3:return o.sent(),[4,t.updateRace((t.pages[0]-1)*t.itemsPerPage)];case 4:o.sent(),o.label=5;case 5:n.value="",r.value="#000000",o.label=6;case 6:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function i(t){try{u(a.next(t))}catch(t){o(t)}}function c(t){try{u(a.throw(t))}catch(t){o(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(i,c)}u((a=a.apply(e,n||[])).next())}))}(t)}));var r=document.querySelector(".race-btn");null==r||r.addEventListener("click",(function(){!function(){bt(this,void 0,void 0,(function(){var t,e,n,r=this;return yt(this,(function(a){return console.log("start race"),vt("disable",t=[]),e=Array.from(document.querySelectorAll(".race-track")),console.log(e),n=[],Promise.allSettled(e.map((function(t){return bt(r,void 0,void 0,(function(){var e;return yt(this,(function(r){switch(r.label){case 0:return[4,K(+(null==t?void 0:t.id))];case 1:return(e=r.sent())&&n.push(e),[2]}}))}))}))).then((function(){return bt(r,void 0,void 0,(function(){return yt(this,(function(e){switch(e.label){case 0:return[4,gt(n,t)];case 1:return e.sent(),[2]}}))}))})),[2]}))}))}()}));var a=document.querySelector(".reset-btn");null==a||a.addEventListener("click",(function(){!function(){bt(this,void 0,void 0,(function(){return yt(this,(function(t){return console.log("reset race"),[2]}))}))}()}));var o=document.querySelector(".gen-btn");null==o||o.addEventListener("click",(function(){return n=e,r=void 0,o=function(){return function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){switch(e.label){case 0:return[4,ht(t)];case 1:return e.sent(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function i(t){try{u(o.next(t))}catch(t){e(t)}}function c(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(i,c)}u((o=o.apply(n,r||[])).next())}));var n,r,a,o}))}const Lt=function(){var t=this;this.openGarage=function(){var e;null===(e=document.querySelector(".winners-block"))||void 0===e||e.classList.add("hidden"),t.garageBlock.classList.remove("hidden")},this.garageBlock=v({tag:"div",class:["garage-block"]}),this.carsGenerator=new S,this.raceView=new at,this.garageBlock.append(this.carsGenerator.getBlock(),this.raceView.getBlock()),document.body.append(this.garageBlock),mt(this.raceView)},Nt=function(){function t(){this.winners=null,this.garage=null,this.apiSetManager=new A,this.apiSetManager.subscribe(this)}return t.prototype.generateStartView=function(){this.winners=new z,this.winners.generateWinnersView(),this.garage=new Lt,this.garage.openGarage()},t.prototype.changeView=function(t){var e,n;switch(t.target.id){case"garageBtn":null===(e=this.garage)||void 0===e||e.openGarage();break;case"winnersBtn":null===(n=this.winners)||void 0===n||n.openWinners()}},t.prototype.updateWinners=function(){var t;null===(t=this.winners)||void 0===t||t.generateWinnersView()},t}();(new(function(){function t(){this.header=null}return t.prototype.start=function(){this.header=new b;var t=new Nt;t.generateStartView(),this.header.toGarage.addEventListener("click",(function(e){t.changeView(e)})),this.header.toWinners.addEventListener("click",(function(e){t.changeView(e)}))},t}())).start()})()})();